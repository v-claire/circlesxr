 <html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
    <script src="/worlds/TOTL_world/script/general.js"></script>
  </head>  
  <body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <a-scene circles_scene_properties>
      <a-assets>
        <!-- images -->
        <img id='skyMap' src='/worlds/TOTL_world/assets/textures/086_hdrmaps_com_free_above_clouds.jpg' crossorigin="anonymous">
        <!-- ^ credit: HDRMaps @ https://hdrmaps.com/above-the-clouds/ -->
        <img id="AF_img" src="/worlds/TOTL_world/assets\images\AF_logo.png" crossorigin="anonymous">
        <img id="SA_img" src="/worlds/TOTL_world/assets\images\SA_logo.png" crossorigin="anonymous">
        <img id="ST_img" src="/worlds/TOTL_world/assets\images\ST_logo.png" crossorigin="anonymous">
        <!-- ^ credit: Ingenium @ https://ingeniumcanada.org/ -->

        <!-- sound effects-->
        <audio id="door_sound" src="/worlds/TOTL_world/assets/sound_effects/doorOpening.mp3" preload="auto" crossorigin="anonymous"></audio>
        <!-- ^ from https://pixabay.com/sound-effects/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=6038 on Pixabay-->

        <!-- room models -->
        <a-asset-item id="roughLabModel" src="/worlds/TOTL_world/assets/models/room.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="doorModel" src="/worlds/TOTL_world/assets/models/single_door.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="garageDoorModel" src="/worlds/TOTL_world/assets/models/garage_door.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>


        <!-- agriculture room models -->
        <a-asset-item id="microscope_model" src="/worlds/TOTL_world/assets/models/microscope.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="slideCase_model" src="/worlds/TOTL_world/assets/models/slideCase.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="slideCaseClosed_model" src="/worlds/TOTL_world/assets/models/slideCaseClosed.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="compMonitor_model" src="/worlds/TOTL_world/assets/models/compMonitor.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="eggCandlingDevice_model" src="/worlds/TOTL_world/assets/models/eggCandlingDevice.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="chicken_model" src="/worlds/TOTL_world/assets/models/chicken.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="boxNest_model" src="/worlds/TOTL_world/assets/models/box_nest.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="egg_model" src="/worlds/TOTL_world/assets/models/egg.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="nest_model" src="/worlds/TOTL_world/assets/models/nest.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <!-- aviation and space room models -->


        <!-- lobby models -->
        <a-asset-item id="whiteboard_model" src="/worlds/TOTL_world/assets/models/whiteboard.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>

        <!-- science and tech room models -->
        <a-asset-item id="television_model" src="/worlds/TOTL_world/assets/models/television.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="antenna_model" src="/worlds/TOTL_world/assets/models/antenna.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="trunkTrunk_model" src="/worlds/TOTL_world/assets/models/trunkTrunk.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>
      <!--------------- ^ ADD THIS BACK IN ^ ----------------------------------------->
      <!------------------------------------------------------------------------------>
      <!------------------------------------------------------------------------------>

      <!-- circles checkpoints -->
      <a-entity circles-checkpoint position="0 0.35 0"></a-entity>
      <a-entity circles-checkpoint position="2 0.35 6"></a-entity>
      <a-entity circles-checkpoint position="-3 0.35 5"></a-entity>
      <a-entity circles-checkpoint position="-2 0.35 -7"></a-entity>
      <a-entity circles-checkpoint position="8 0.35 -7"></a-entity>
      

      <!-- load room models -->
      <a-entity id="digitalLab" position="0 -0.15 0" rotation="0 0 0" scale="1 1 1" gltf-model="#roughLabModel" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>
      <a-image position="-5.85 3.5 -5.95" rotation="0 90 0" src="#AF_img" width="1.5" height="1.5"></a-image>
      <a-entity id="door" position="-6 0.05 -5.48" rotation="0 0 0" gltf-model="#doorModel" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;">
                <a-image position="0.05 1.75 -0.45" rotation="0 90 0" src="#AF_img" width="0.5" height="0.5"></a-image>
      </a-entity>
      <a-entity id="garageDoor" position="3.8 0 -3.95" rotation="0 0 0" gltf-model="#garageDoorModel" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;">
                <a-image position="-0.07 2 -0.2" rotation="0 90 0" src="#ST_img" width="1.5" height="1.5"></a-image>
      </a-entity>
      
      <!-- load agriculture room models -->
      <a-entity id="microscope_table"
                position="-7.5 0.4 3"
                geometry="primitive:box; height:0.8; width:1.0; depth:3.0;"
                material="color:black;"
                circles-sphere-env-map="src:#skyMap" 
                shadow="case:true; receive:true;">
                <a-entity id="microscope" position="-0.2 0.4 0" rotation="0 -90 0" scale="30 30 30" gltf-model="#microscope_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>
                <a-entity id="slideCase" position="-0.2 0.4 1" rotation="0 140 0" scale="30 30 30" gltf-model="#slideCase_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;" visible="false"></a-entity>
                <a-entity id="monitor" position="0.2 0.4 -1" rotation="0 200 0" scale="30 30 30" gltf-model="#compMonitor_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>
      </a-entity>
      <a-entity id="eggCandlingDevice_table"
                position="-14 0.4 -3"
                rotation="0 90 0"
                geometry="primitive:box; height:0.8; width:2.0; depth:1.0;"
                material="color:black;"
                circles-sphere-env-map="src:#skyMap" 
                shadow="case:true; receive:true;">
                <a-entity id="eggCandlingDevice" position="0.5 0.4 0" scale="30 30 30" gltf-model="#eggCandlingDevice_model" circles-sphere-env-map="src:#skyMap" onclick="eggtester()" shadow="cast:false; receive:true;" circles-interactive-object="type:highlight"></a-entity>
                <a-entity id="egg1" position="0 0.48 0.2" rotation="0 90 90" scale="30 30 30" gltf-model="#egg_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;" circles-pickup-networked circles-artefact="inspectScale:30 30 30; inspectRotation:0 0 0; inspectPosition:1 -0.5 1.3; label_on:false; description_on:false;" circles-interactive-object="type:highlight"></a-entity>
                <a-entity id="egg2" position="-0.3 0.48 0.2" rotation="0 -90 90" scale="30 30 30" gltf-model="#egg_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;" circles-pickup-networked circles-artefact="inspectScale:30 30 30; inspectRotation:0 0 0; inspectPosition:1 -0.5 1.3; label_on:false; description_on:false;" circles-interactive-object="type:highlight"></a-entity>
                <a-entity id="egg3" position="-0.6 0.48 0.2" rotation="0 -120 90" scale="30 30 30" gltf-model="#egg_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;" circles-pickup-networked circles-artefact="inspectScale:30 30 30; inspectRotation:0 0 0; inspectPosition:1 -0.5 1.3; label_on:false; description_on:false;" circles-interactive-object="type:highlight"></a-entity>
      </a-entity>
      <a-entity id="boxNest" position="-14 0 -6" rotation="0 -110 0" scale="30 30 30" gltf-model="#boxNest_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;">
                <a-entity id="chickenInCoop" rotation="0 180 0" scale="0.08 0.08 0.08" gltf-model="#chicken_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;" visible="false"></a-entity>
                <a-entity id="nest" position="0 0.005 0" gltf-model="#nest_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>
      </a-entity>
      <a-entity id="slideCaseClosed" position="-12 0.1 -6.5" rotation="0 -90 0" scale="30 30 30" gltf-model="#slideCaseClosed_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;" circles-interactive-object="type:highlight; enabled:false;"></a-entity>
      <a-entity id="chickenOnSlides" position="-12 0 -6.5" rotation="0 30 0" scale="2 2 2" gltf-model="#chicken_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>


      <!-- load aviation and space room models-->


      <!-- load lobby models-->
      <a-entity id="whiteboard1" position="1.5 0 -8" rotation="0 -30 0" scale="30 30 30" gltf-model="#whiteboard_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>
      <a-entity id="whiteboard2" position="-3 0 6" rotation="0 -15 0" scale="30 30 30" gltf-model="#whiteboard_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>

      <!-- load science and tech room models-->
      <a-entity id="television_table"
                position="11 0.4 2"
                rotation="0 -90 0"
                geometry="primitive:box; height:0.8; width:2.5; depth:1.0;"
                material="color:black;"
                circles-sphere-env-map="src:#skyMap" 
                shadow="case:true; receive:true;">
                <a-entity id="television" position="0 0.4 0" rotation="0 0 0" scale="30 30 30" gltf-model="#television_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>
                <a-entity id="antenna" position="1 0.4 0" rotation="0 -30 0" scale="30 30 30" gltf-model="#antenna_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;" circles-pickup-networked 
                circles-artefact="inspectScale:30 30 30; 
                inspectRotation:0 0 0; 
                inspectPosition:1 -0.5 1.3;
                label_offset:0.0 -1000 0.0; 
                description_offset: 0.0 -1000 0.0;
                arrow_position:down;
                title:antenna;
                description:antenna;
                label_text:antenna;" circles-interactive-object="type:highlight"></a-entity>
      </a-entity>
      <a-entity id="trunkTrunk" position="10 0 -6" rotation="0 -75 0" scale="30 30 30" gltf-model="#trunkTrunk_model" circles-sphere-env-map="src:#skyMap" shadow="cast:false; receive:true;"></a-entity>

    
      <a-entity id='skyBox'
                rotation='0 200 0'
                geometry='primitive:sphere; radius:50; segments-height:24; segments-width:24;'
                material='shader:flat; src:#skyMap; side:back;'>
      </a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
<!--circles-pickup-networked circles-artefact="inspectScale:30 30 30; inspectRotation:0 0 0; inspectPosition:1 -0.5 1.3;"-->